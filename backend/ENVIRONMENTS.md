# üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–æ–π.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```
backend/
‚îú‚îÄ‚îÄ .env                 # –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø—Ä–æ–¥–∞–∫—à–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
‚îú‚îÄ‚îÄ .env.local          # –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (SQLite)
‚îú‚îÄ‚îÄ .env.production     # –ü—Ä–æ–¥–∞–∫—à–Ω (PostgreSQL)
‚îú‚îÄ‚îÄ load_env.py         # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫ —Å—Ä–µ–¥
‚îú‚îÄ‚îÄ run_dev.py          # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ run_prod.py         # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
```

## üöÄ –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (SQLite)

```bash
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python run_dev.py

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
ENVIRONMENT=development python -m uvicorn main:app --reload

# –°–ø–æ—Å–æ–± 3: Docker –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
docker-compose up -d
```

### 2. –ü—Ä–æ–¥–∞–∫—à–Ω (PostgreSQL)

```bash
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python run_prod.py

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
ENVIRONMENT=production python -m uvicorn main:app
```

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—ã**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ENVIRONMENT`
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏**:
   - –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–π `.env`
   - –ó–∞—Ç–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π —Ñ–∞–π–ª —Å—Ä–µ–¥—ã (`.env.local` –∏–ª–∏ `.env.production`)
   - –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –±–∞–∑–æ–≤—ã–µ

## üìä –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

| –°—Ä–µ–¥–∞ | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
|-------|-------------|-------------------|
| Development | SQLite (`test.db`) | `.env.local` |
| Production | PostgreSQL (Beget) | `.env.production` |
| Docker | SQLite | `.env.local` |

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö —Å—Ä–µ–¥:
- `OPENAI_API_KEY` - API –∫–ª—é—á OpenAI

### –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Å—Ä–µ–¥—ã:
- `DATABASE_URL` - –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- `ENVIRONMENT` - –¢–∏–ø —Å—Ä–µ–¥—ã (`development`/`production`)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ `.env.local` –∏ `.env.production` –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`
- ‚úÖ –ü—Ä–æ–¥–∞–∫—à–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```
üîß –ó–∞–≥—Ä—É–∂–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (.env.local)
üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: SQLite (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
```

–∏–ª–∏

```
üöÄ –ó–∞–≥—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–∞ (.env.production)
üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL (–ø—Ä–æ–¥–∞–∫—à–Ω)
```

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ä–µ–¥

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.{–Ω–∞–∑–≤–∞–Ω–∏–µ_—Å—Ä–µ–¥—ã}`
2. –û–±–Ω–æ–≤–∏—Ç–µ `load_env.py` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤–æ–π —Å—Ä–µ–¥—ã
3. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ `run_{–Ω–∞–∑–≤–∞–Ω–∏–µ_—Å—Ä–µ–¥—ã}.py`

## ‚ùó –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï** —Ñ–∞–π–ª—ã `.env.local` –∏ `.env.production` –≤ Git
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, –∫–∞–∫–∞—è —Å—Ä–µ–¥–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- –î–ª—è Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ä–µ–¥–∞ `development` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–±–µ–∏—Ö —Å—Ä–µ–¥